<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenge Cinta Sania (ULTIMATE!)</title>
    <style>
        body {
            font-family: 'Arial', sans-serif; /* Font lebih simple dan keren */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-image: linear-gradient(to right top, #a18cd1, #fbc2eb); /* Gradien ungu-pink lembut */
            color: #333;
            text-align: center;
            overflow: hidden;
        }
        .container {
            background-color: rgba(255, 255, 255, 0.98);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            max-width: 600px;
            width: 90%;
            margin: 20px;
            position: relative;
            z-index: 10;
        }
        h1 {
            color: #6a1b9a; /* Ungu gelap */
            font-size: 3.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px #e1bee7;
        }
        h2 {
            color: #d81b60; /* Merah gelap */
            font-size: 2.5em;
            margin-bottom: 15px;
        }
        p {
            font-size: 1.3em;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        button {
            background-color: #d81b60;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin: 10px;
            text-decoration: none;
            display: inline-block;
        }
        button:hover {
            background-color: #a5003f;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
        }

        /* Gaya untuk Quiz */
        #quizGameArea .options-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        #quizGameArea .option-button {
            background-color: #ede7f6; /* Ungu muda */
            color: #4527a0; /* Ungu gelap */
            border: 2px solid #7e57c2;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1 1 calc(50% - 20px);
            max-width: calc(50% - 20px);
        }
        #quizGameArea .option-button:hover {
            background-color: #7e57c2;
            color: white;
            transform: translateY(-2px);
        }
        #quizGameArea .option-button.correct {
            background-color: #a5d6a7;
            border-color: #66bb6a;
        }
        #quizGameArea .option-button.wrong {
            background-color: #ef9a9a;
            border-color: #e57373;
        }
        #quizGameArea .option-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        #quizGameArea input[type="text"] {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #7e57c2;
            font-size: 1.1em;
            width: calc(100% - 24px);
            max-width: 300px;
            margin-top: 15px;
            text-align: center;
        }
        #quizGameArea input[type="text"]:focus {
            outline: none;
            border-color: #d81b60;
            box-shadow: 0 0 0 3px rgba(216, 27, 96, 0.2);
        }
        #quizFeedback {
            margin-top: 15px;
            font-weight: bold;
            font-size: 1.4em; /* Lebih besar */
            color: #d32f2f;
        }
        #quizCount {
            font-size: 1.1em;
            margin-top: 15px;
            color: #6a1b9a;
        }

        /* Hasil Quiz */
        #resultArea {
            display: none;
        }
        .result-message {
            font-size: 1.8em;
            margin-bottom: 25px;
        }
        .success-message {
            color: #4CAF50;
        }
        .fail-message {
            color: #ef5350;
        }
        .whatsapp-button {
            background-color: #25D366; /* Warna WhatsApp */
        }
        .whatsapp-button:hover {
            background-color: #1DA851;
        }
        #successImage {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 3px solid #d81b60;
        }

        /* Pesan jeda */
        #pauseMessageArea {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5em;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            z-index: 1000;
            cursor: pointer;
        }

        /* Efek confetti untuk kemenangan */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffeb3b;
            animation: confetti-fall 3s forwards;
            opacity: 0;
            z-index: 99;
        }
        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotateZ(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotateZ(720deg); opacity: 0; }
        }

    </style>
</head>
<body>
    <div class="container" id="introContainer">
        <h1>Challenge Spesial Untuk Sania! âœ¨</h1>
        <p>Aku punya sebuah tantangan seru buat kamu! Jawab **20 pertanyaan acak** ini dengan benar. Kalau kamu berhasil, ada hadiah spesial. Kalau tidak... ada tantangan lucu menunggu! ðŸ˜‰</p>
        <button onclick="startQuiz()">Mulai Tantangan Gila!</button>
    </div>

    <div class="container" id="quizGameArea" style="display: none;">
        <h2>Quiz Cinta: Seberapa Kenal Kamu Aku? ðŸ¤”</h2>
        <p id="quizQuestion"></p>
        <div id="optionsContainer" class="options-container">
            </div>
        <input type="text" id="textAnswerInput" placeholder="Ketik jawabanmu di sini..." style="display: none;">
        <button id="submitTextAnswerBtn" onclick="checkTextAnswer()" style="display: none;">Kirim Jawaban</button>
        
        <p id="quizFeedback"></p>
        <p id="quizCount">Pertanyaan <span id="currentQuestionNumber">1</span> / <span id="totalQuestionsCount">20</span></p>
        <p>Skor benar: <span id="currentScore">0</span></p>
    </div>

    <div class="container" id="resultArea" style="display: none;">
        <div id="successResult">
            <h2 class="result-message success-message">EDAN! Kamu HEBAT BANGET! ðŸŽ‰</h2>
            <p style="font-size: 1.2em;">Selamat, Sania! Kamu berhasil menjawab <span id="finalScoreSuccess"></span> dari 20 pertanyaan dengan sempurna! Kamu memang yang paling jago dan paling kenal aku!</p>
            <p style="font-size: 1.5em; color: #6a1b9a; font-weight: bold;">Hadiahmu spesial dari aku, ini dia! ðŸ˜‰</p>
            <img id="successImage" src="https://i.imgur.com/iliNnu4.jpeg" alt="Hadiah Spesial Kaka">
            <button onclick="startQuiz()">Main Lagi!</button>
        </div>

        <div id="failResult" style="display: none;">
            <h2 class="result-message fail-message">Ups! Belum Berhasil Sania! ðŸ˜…</h2>
            <p style="font-size: 1.2em;">Sayang sekali, kamu hanya menjawab <span id="finalScoreFail"></span> pertanyaan dengan benar.</p>
            <p style="font-size: 1.5em; color: #d81b60; font-weight: bold;">Tantanganmu: Kirim "PAP 50" ke aku sekarang juga! ðŸ˜‚ (Selfie lucu, ekspresi konyol, bebas!)</p>
            <p style="font-size: 1.1em; margin-top: 20px;">Klik tombol di bawah untuk kirim PAP 50 ke aku. Jangan curang ya! ðŸ˜‰</p>
            <a id="whatsappFailBtn" href="#" target="_blank" class="whatsapp-button button">Kirim PAP 50 Sekarang!</a>
            <button id="retryButtonAfterFail" onclick="startQuiz()" style="display: none;">Coba Lagi Tantangannya!</button>
        </div>
    </div>

    <div id="pauseMessageArea" style="display: none;">
        <p>Kalem, ulah rurusuhan! Lanjut! ðŸ˜‰</p>
    </div>

    <script>
        const originalQuizQuestions = [
            {
                type: "mc",
                question: "Apa nama lengkap pacar Sania?",
                options: ["Kaka Ganteng Aja", "Kaka Kurniawan Ganteng Banget", "Kaka Sania", "Kaka Kurniawan Aja"],
                answer: "kaka kurniawan ganteng banget"
            },
            {
                type: "mc",
                question: "Sudah PAP belum hari ini?",
                options: ["Sudah Dong", "Belum", "Lupa", "Rahasia"],
                answer: "belum"
            },
            {
                type: "mc",
                question: "Pas momen apa terakhir ke rumah Kaka?",
                options: ["Ulang Tahun", "Idul Fitri", "Graduation", "Liburan"],
                answer: "graduation"
            },
            {
                type: "text",
                question: "Kapan tanggal jadian kita? (contoh: 15 Juni)",
                answer: "15 juni", // Ganti dengan tanggal jadian kalian yang sebenarnya!
                isAlwaysCorrect: true // Pertanyaan ini selalu dianggap benar
            },
            {
                type: "mc",
                question: "Siapa nama lengkap pacar Sania?",
                options: ["Kaka Kurniawan Ganteng", "Kaka Kurniawan", "Kaka Pradipta", "Kaka Ramadhan"],
                answer: "kaka kurniawan"
            },
            {
                type: "mc",
                question: "Apa makanan kesukaan pacar Sania?",
                options: ["Pizza", "Sate", "Apa aja yang penting bisa dimakan", "Nasi Padang"],
                answer: "apa aja yang penting bisa dimakan"
            },
            {
                type: "mc",
                question: "Apa nama akun IG pacar Sania?",
                options: ["kaka_kurniawan", "kakaaaaaaa____", "kaka.ganteng", "kaka_official"],
                answer: "kakaaaaaaa____"
            },
            {
                type: "mc",
                question: "Kapan Indonesia merdeka?",
                options: ["17 Agustus 1945", "18 Agustus 1945", "17 Juli 1945", "17 Agustus 1946"],
                answer: "17 agustus 1945"
            },
            {
                type: "mc",
                question: "Loveyouuu...",
                options: ["Loveyoutoo", "I Love You More", "Makasih", "Aku juga"],
                answer: "loveyoutoo"
            },
            {
                type: "mc",
                question: "Siapa nama Bapak pacar Sania?",
                options: ["Bapak Budi", "Bapak Agus", "Bapak Ajat", "Bapak Kaka"],
                answer: "bapak ajat"
            },
            {
                type: "mc",
                question: "Kapan kita main bareng lagi?",
                options: ["Besok", "Minggu Depan", "Nanti Aja", "Sekarang Juga"],
                answer: "besok"
            },
            // Pertanyaan tambahan tentang band favorit (total 20 - 11 = 9 pertanyaan)
            {
                type: "mc",
                question: "Siapa vokalis utama band Slipknot?",
                options: ["Corey Taylor", "M. Shadows", "Jonathan Davis", "Till Lindemann"],
                answer: "corey taylor"
            },
            {
                type: "mc",
                question: "Lagu 'Duality' yang ikonik itu milik band mana?",
                options: ["Avenged Sevenfold", "Linkin Park", "Slipknot", "System of a Down"],
                answer: "slipknot"
            },
            {
                type: "mc",
                question: "Apa nama album debut Avenged Sevenfold?",
                options: ["City of Evil", "Waking the Fallen", "Sounding the Seventh Trumpet", "Nightmare"],
                answer: "sounding the seventh trumpet"
            },
            {
                type: "mc",
                question: "Siapa nama drummer Avenged Sevenfold yang meninggal di tahun 2009?",
                options: ["Mike Portnoy", "Jimmy 'The Rev' Sullivan", "Joey Jordison", "Travis Barker"],
                answer: "jimmy 'the rev' sullivan"
            },
            {
                type: "mc",
                question: "Band mana yang dikenal dengan lagu 'Bat Country'?",
                options: ["Slipknot", "System of a Down", "Avenged Sevenfold", "Bullet For My Valentine"],
                answer: "avenged sevenfold"
            },
            {
                type: "mc",
                question: "Instrument apa yang khas dari member 'Sid Wilson' di Slipknot?",
                options: ["Gitar", "Bass", "Turntables/DJ", "Drum"],
                answer: "turntables/dj"
            },
            {
                type: "mc",
                question: "Dari band-band ini, mana yang berasal dari Iowa, Amerika Serikat?",
                options: ["Metallica", "Avenged Sevenfold", "Slipknot", "Iron Maiden"],
                answer: "slipknot"
            },
            {
                type: "mc",
                question: "Lagu 'Afterlife' yang populer itu dari album Avenged Sevenfold yang mana?",
                options: ["City of Evil", "Avenged Sevenfold (Self-Titled)", "Nightmare", "The Stage"],
                answer: "avenged sevenfold (self-titled)"
            },
            {
                type: "mc",
                question: "Band ini terkenal dengan logo 'Deathbat'. Siapa mereka?",
                options: ["Disturbed", "Lamb of God", "Avenged Sevenfold", "Five Finger Death Punch"],
                answer: "avenged sevenfold"
            }
        ];
        
        let shuffledQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        const totalQuestions = originalQuizQuestions.length; // Total 20 pertanyaan
        const minimumScoreForSuccess = 15; // Minimal benar 15 untuk menang

        const whatsappFailNumber = "6282295941919"; // Nomor HP lo, pakai kode negara (62)
        const whatsappFailMessage = "Kiriman 50 PAP dari aku karena kalah quiz nih! ðŸ˜‚ Aku janji ga curang!"; // Pesan WhatsApp otomatis untuk kalah

        function startQuiz() {
            document.getElementById('introContainer').style.display = 'none';
            document.getElementById('resultArea').style.display = 'none';
            document.getElementById('quizGameArea').style.display = 'block';
            
            // Shuffle questions
            shuffledQuestions = [...originalQuizQuestions].sort(() => Math.random() - 0.5);
            
            currentQuestionIndex = 0;
            score = 0;
            document.getElementById('currentScore').innerText = score;
            document.getElementById('totalQuestionsCount').innerText = totalQuestions;
            document.getElementById('retryButtonAfterFail').style.display = 'none'; // Sembunyikan tombol coba lagi
            displayQuestion();
        }

        function displayQuestion() {
            if (currentQuestionIndex < totalQuestions) {
                const quizData = shuffledQuestions[currentQuestionIndex];
                document.getElementById('quizQuestion').innerText = quizData.question;
                document.getElementById('quizFeedback').innerText = ''; 
                document.getElementById('currentQuestionNumber').innerText = currentQuestionIndex + 1; // Update nomor pertanyaan

                const optionsContainer = document.getElementById('optionsContainer');
                const textAnswerInput = document.getElementById('textAnswerInput');
                const submitTextAnswerBtn = document.getElementById('submitTextAnswerBtn');

                if (quizData.type === "mc") {
                    optionsContainer.style.display = 'flex';
                    textAnswerInput.style.display = 'none';
                    submitTextAnswerBtn.style.display = 'none';
                    optionsContainer.innerHTML = ''; // Clear previous options

                    // Shuffle options for MC
                    const shuffledOptions = [...quizData.options].sort(() => Math.random() - 0.5);

                    shuffledOptions.forEach(option => {
                        const button = document.createElement('button');
                        button.classList.add('option-button');
                        button.innerText = option;
                        button.onclick = () => checkAnswer(option, quizData.answer, button, quizData.type, quizData.isAlwaysCorrect);
                        optionsContainer.appendChild(button);
                    });
                } else if (quizData.type === "text") {
                    optionsContainer.style.display = 'none';
                    textAnswerInput.style.display = 'block';
                    submitTextAnswerBtn.style.display = 'block';
                    textAnswerInput.value = ''; // Clear previous input
                    textAnswerInput.focus(); // Auto-fokus input teks
                    // Handle Enter key for text input
                    textAnswerInput.onkeyup = function(event) {
                        if (event.key === 'Enter') {
                            checkAnswer(this.value, quizData.answer, null, quizData.type, quizData.isAlwaysCorrect);
                        }
                    };
                }
            } else {
                showResult();
            }
        }

        function checkAnswer(selectedInput, correctAnswer, clickedButton = null, type, isAlwaysCorrect = false) {
            const userAnswer = selectedInput.toLowerCase().trim();
            const feedbackElement = document.getElementById('quizFeedback');
            let isCorrect = (userAnswer === correctAnswer.toLowerCase().trim());

            // Logika untuk pertanyaan yang selalu benar
            if (isAlwaysCorrect) {
                isCorrect = true;
            }

            if (type === "mc") {
                const allOptionButtons = document.querySelectorAll('#optionsContainer .option-button');
                allOptionButtons.forEach(button => button.disabled = true); // Disable all options after selection

                if (isCorrect) {
                    feedbackElement.style.color = '#4CAF50';
                    feedbackElement.innerText = "Benar! Hebat! ðŸ‘ðŸ˜„"; // Emoticon benar
                    clickedButton.classList.add('correct');
                    score++;
                } else {
                    feedbackElement.style.color = '#d32f2f';
                    feedbackElement.innerText = "Kurang tepat! ðŸ˜¢"; // Emoticon sedih
                    clickedButton.classList.add('wrong');
                    // Highlight correct answer
                    allOptionButtons.forEach(button => {
                        if (button.innerText.toLowerCase().trim() === correctAnswer.toLowerCase().trim()) {
                            button.classList.add('correct');
                        }
                    });
                }
            } else if (type === "text") {
                const textAnswerInput = document.getElementById('textAnswerInput');
                const submitTextAnswerBtn = document.getElementById('submitTextAnswerBtn');
                textAnswerInput.disabled = true;
                submitTextAnswerBtn.disabled = true;

                if (isCorrect) {
                    feedbackElement.style.color = '#4CAF50';
                    feedbackElement.innerText = "Benar! Akurat! ðŸ‘ðŸ˜„"; // Emoticon benar
                    score++;
                } else {
                    feedbackElement.innerText = "Kurang tepat! ðŸ˜¢"; // Emoticon sedih
                    clickedButton.classList.add('wrong');
                    // Highlight correct answer
                    allOptionButtons.forEach(button => {
                        if (button.innerText.toLowerCase().trim() === correctAnswer.toLowerCase().trim()) {
                            button.classList.add('correct');
                        }
                    });
                }
            } else if (type === "text") {
                const textAnswerInput = document.getElementById('textAnswerInput');
                const submitTextAnswerBtn = document.getElementById('submitTextAnswerBtn');
                textAnswerInput.disabled = true;
                submitTextAnswerBtn.disabled = true;

                if (isCorrect) {
                    feedbackElement.style.color = '#4CAF50';
                    feedbackElement.innerText = "Benar! Akurat! ðŸ‘ðŸ˜„"; // Emoticon benar
                    score++;
                } else {
                    feedbackElement.style.color = '#d32f2f';
                    feedbackElement.innerText = `Salah! Jawaban benar: "${correctAnswer}" ðŸ˜ˆ`; // Emoticon nertawain
                }
            }
            
            document.getElementById('currentScore').innerText = score;

            currentQuestionIndex++;
            
            // Logika pesan jeda "Kalem ulah rurusuhan"
            if (currentQuestionIndex > 0 && currentQuestionIndex % 5 === 0 && currentQuestionIndex < totalQuestions) {
                showPauseMessage();
                setTimeout(() => {
                    hidePauseMessage();
                    displayQuestion();
                }, 3000); // Tampilkan pesan 3 detik
            } else {
                setTimeout(displayQuestion, 2500); // Lanjut pertanyaan berikutnya setelah 2.5 detik
            }
        }

        function checkTextAnswer() {
            const textAnswerInput = document.getElementById('textAnswerInput');
            checkAnswer(textAnswerInput.value, shuffledQuestions[currentQuestionIndex].answer, null, "text", shuffledQuestions[currentQuestionIndex].isAlwaysCorrect);
        }

        function showPauseMessage() {
            document.getElementById('pauseMessageArea').style.display = 'flex';
        }

        function hidePauseMessage() {
            document.getElementById('pauseMessageArea').style.display = 'none';
        }


        function showResult() {
            document.getElementById('quizGameArea').style.display = 'none';
            document.getElementById('resultArea').style.display = 'block';
            document.getElementById('finalScoreSuccess').innerText = score;
            document.getElementById('finalScoreFail').innerText = score;

            if (score >= minimumScoreForSuccess) {
                // Success
                document.getElementById('successResult').style.display = 'block';
                document.getElementById('failResult').style.display = 'none';
                triggerConfetti(); // Efek confetti untuk kemenangan
            } else {
                // Fail
                document.getElementById('successResult').style.display = 'none';
                document.getElementById('failResult').style.display = 'block';
                const whatsappLink = `https://wa.me/${whatsappFailNumber}?text=${encodeURIComponent(whatsappFailMessage)}`;
                document.getElementById('whatsappFailBtn').href = whatsappLink;
                // Tampilkan tombol coba lagi hanya setelah PAP button diklik (simulasi) atau setelah jeda
                document.getElementById('whatsappFailBtn').onclick = () => {
                    setTimeout(() => {
                        document.getElementById('retryButtonAfterFail').style.display = 'inline-block';
                    }, 1000); // Tunda sedikit agar tombol PAP terpicu
                };
            }
        }

        // Efek Confetti (sederhana)
        function triggerConfetti() {
            const confettiContainer = document.body;
            for (let i = 0; i < 70; i++) { // Lebih banyak confetti
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = Math.random() * -100 + 'px'; // Mulai dari atas layar
                confetti.style.animationDuration = (Math.random() * 2 + 3) + 's'; // Durasi acak 3-5s
                confetti.style.animationDelay = Math.random() * 0.5 + 's'; // Delay acak 0-0.5s
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 75%)`; // Warna acak
                confettiContainer.appendChild(confetti);

                confetti.addEventListener('animationend', () => {
                    confetti.remove();
                });
            }
        }

    </script>
</body>
</html>
